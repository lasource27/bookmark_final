{"version":3,"sources":["context/AuthContext.js","component/Folder.js","component/Folders.js","component/Tag.js","component/Tags.js","component/Bookmark.js","component/Bookmarks.js","component/Editbookmark.js","component/Searchbar.js","component/Addbutton.js","component/Sortbutton.js","route/Homepage.js","route/Loginpage.js","route/Registerpage.js","utils/PrivateRoute.js","App.js","reportWebVitals.js","index.js"],"names":["AuthContext","createContext","AuthProvider","children","useState","localStorage","getItem","JSON","parse","authTokens","setAuthTokens","jwt_decode","user","setUser","loading","setLoading","history","useHistory","location","useLocation","loginUser","e","a","preventDefault","fetch","method","headers","body","stringify","target","email","value","password","response","json","data","console","log","status","access","setItem","push","alert","logoutUser","removeItem","updateToken","refresh","pathname","contextData","useEffect","interval","setInterval","clearInterval","Provider","Folder","folder","folder_bookmark","update_folder","onDeletefolder","folderdropdown","setFolderdropdown","edit_folder_toggle","setEdit_folder_toggle","folder_name","setFolder_name","menuRef","useRef","editFolderListener","event","current","contains","document","addEventListener","removeEventListener","onSubmit","id","className","ref","type","defaultValue","name","onChange","onClick","icon","Folders","folders","create_folder","show_new_folder","new_folder","setNew_folder","map","placeholder","Tag","tag","tag_bookmark","update_tag","onDeletetag","tagdropdown","setTagdropdown","edit_tag_toggle","setEdit_tag_toggle","tag_name","setTag_name","editTagListener","Tags","tags","create_tag","show_new_tag","new_tag","setNew_tag","Bookmark","bookmark","tag_filter","rTags","onDeletebookmark","edit_bookmark","src","preview_image","alt","title","description","domain","date_created","each","href","page_url","rel","Bookmarks","bookmarks","loader","reversed_bookmarks","reverse","Object","assign","item","Editbookmark","edit_id","bookmark_concerned","update_bookmark","close_edit","setBookmark_title","setBookmark_description","setBookmark_folder","setBookmark_tag","bookmark_title","bookmark_description","bookmark_folder","bookmark_tag","disabled","selected","hidden","Array","from","selectedOptions","option","multiple","Searchbar","search_bookmark","search_input","setSearch_input","Addbutton","add_task","dropdown_list","addbutton_submit","showDropdown","handle_hidedropdown","toggle_showdropdown","setPage_url","setFolder","setTag","refListener","Sortbutton","library","add","faEllipsisH","faBookmark","faFolder","faTags","faUser","faFolderOpen","faAngleDoubleDown","faAngleDoubleUp","faFolderRegular","faHashtag","faUserTag","faThumbtack","faCalendarDay","faPencilAlt","faBookReader","faTrashAlt","faSearch","faStar","faPlus","faTrash","faLock","faEnvelope","faUserRegular","Homepage","setFolders","setTags","setBookmarks","showFolders","setShowFolders","showTags","setShowTags","titleBar","setTitleBar","folderIcon","setFolderIcon","setTagIcon","allbookmarkIcon","setAllbookmarkIcon","setLoader","setAddbutton_submit","filtered_tag_bookmarks","setFiltered_tag_bookmarks","setShow_new_tag","setShow_new_folder","edit_bookmark_toggle","setEdit_bookmark_toggle","setEdit_id","setBookmark_concerned","setShowDropdown","useContext","foldersFromServer","fetchFolders","tagsFromServer","fetchTags","bookmarksFromServer","fetchBookmarks","String","res","statusText","all_bookmarks","filter","includes","show_all_bookmarks","toLowerCase","error","style","textDecoration","color","username","Loginpage","setEmail","setPassword","to","fontWeight","Registerpage","setUsername","registerUser","undefined","PrivateRoute","rest","App","component","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a918fdc3.chunk.js","sourcesContent":["import { createContext, useState, useEffect  } from \"react\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\n\r\nconst AuthContext = createContext()\r\n\r\nexport default AuthContext;\r\n\r\nexport const AuthProvider = ({children}) => {\r\n    \r\n    const [authTokens, setAuthTokens] = useState(() => localStorage.getItem('authTokens') ? JSON.parse(localStorage.getItem('authTokens')) : null)\r\n    const [user, setUser] =  useState(() => localStorage.getItem('authTokens') ? jwt_decode(localStorage.getItem('authTokens')) : null)\r\n    const [loading, setLoading] = useState(true)\r\n    \r\n    const history = useHistory()\r\n    const location = useLocation()\r\n    \r\n\r\n    \r\n\r\n    const loginUser = async(e) => {\r\n        e.preventDefault()\r\n        const response = await fetch('/backend/token/',{\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type':'application/json',\r\n            },\r\n            body:JSON.stringify({'email':e.target.email.value, 'password':e.target.password.value})\r\n        })\r\n\r\n        const data = await response.json()\r\n        console.log(\"data:\",data)\r\n        console.log(\"response:\",response)\r\n        if (response.status === 200) {\r\n            setAuthTokens(data)\r\n            setUser(jwt_decode(data.access))\r\n            localStorage.setItem('authTokens', JSON.stringify(data))\r\n            // @@@console.log(\"localstorage\",localStorage.getItem('authTokens'))\r\n            // console.log(\"localstorage+decode\",jwt_decode(localStorage.getItem('authTokens')))\r\n            history.push('/')\r\n        } else {\r\n            alert(\"Incorrect username or password!\")\r\n        }\r\n    }\r\n\r\n    const logoutUser = () => {\r\n        setAuthTokens(null)\r\n        setUser(null)\r\n        localStorage.removeItem('authTokens')\r\n        history.push('/login')\r\n    }\r\n\r\n    const updateToken = async() => {\r\n        console.log({'refresh': authTokens?.refresh});\r\n        const response = await fetch('/backend/token/refresh/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type':'application/json',\r\n            },\r\n            body:JSON.stringify({'refresh': authTokens?.refresh})\r\n        })\r\n\r\n        const data = await response.json()\r\n        if (response.status === 200) {\r\n            setAuthTokens(data)\r\n            setUser(jwt_decode(data.access))\r\n            localStorage.setItem('authTokens', JSON.stringify(data))\r\n        } else {\r\n            if (location.pathname === \"/\"){\r\n                logoutUser()\r\n            }\r\n        }\r\n\r\n        if(loading){\r\n            setLoading(false)\r\n        }\r\n\r\n        // 👆update第一次后，不需要再次update，否则每次update，authToken变化，导致useeffect重新render,陷入死循环\r\n\r\n    }\r\n\r\n\r\n    \r\n    let contextData = {\r\n        loginUser: loginUser,\r\n        logoutUser: logoutUser,\r\n        user: user,\r\n        authTokens: authTokens,\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if(loading){\r\n            updateToken()\r\n            // console.log(\"useeffect loading called\")\r\n        }\r\n        // console.log('effect called')\r\n        let access_token_interval = 1000 * 60 * 4\r\n        let interval = setInterval(() => {\r\n            // console.log('interval called')\r\n            if(authTokens){\r\n                updateToken()\r\n            }\r\n        }, access_token_interval);\r\n        return () => {\r\n            // console.log('cleanup called')\r\n            clearInterval(interval);\r\n        }\r\n    },[authTokens,loading])\r\n    \r\n    //@@@why add loading in []\r\n    \r\n    return (\r\n        <AuthContext.Provider value={contextData}>\r\n            {loading ? null : children}\r\n            {/* 👆确定updateToken调用完毕，更新了access token，然后再render children.因为children需要用到最新的access token才能render自己的内容 */}\r\n        </AuthContext.Provider>\r\n    )\r\n}","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { useState, useRef, useEffect } from \"react\"\r\n\r\nconst Folder = ({folder, folder_bookmark, update_folder, onDeletefolder}) => {\r\n\r\n\r\n\r\n    const [folderdropdown, setFolderdropdown] = useState(false)\r\n    const [edit_folder_toggle, setEdit_folder_toggle] = useState(false)\r\n    const [folder_name, setFolder_name] = useState(\"\")\r\n\r\n    let menuRef = useRef()\r\n    \r\n    const editFolderListener = (event) => {\r\n        \r\n        if (!menuRef.current.contains(event.target)) {\r\n            setEdit_folder_toggle(false)\r\n        }\r\n    }\r\n\r\n    useEffect(\r\n        () => {\r\n            document.addEventListener(\"mousedown\", editFolderListener);\r\n            return () => {\r\n            document.removeEventListener(\"mousedown\", editFolderListener);\r\n        } \r\n    }, [edit_folder_toggle])\r\n\r\n    const toggle_folderdropdown = () => {\r\n        \r\n        setFolderdropdown(!folderdropdown)\r\n        console.log(folderdropdown)\r\n        \r\n    }\r\n\r\n    const edit_folder = () => {\r\n        setFolderdropdown(false)\r\n        setEdit_folder_toggle(true)\r\n        console.log(\"123\")\r\n        \r\n    }\r\n\r\n    const delete_folder = () => {\r\n        onDeletefolder(folder.id)\r\n    }\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault()\r\n        await update_folder(folder.id, folder_name)\r\n        setEdit_folder_toggle(false)\r\n    }\r\n\r\n    return (\r\n        \r\n        <div className=\"row_wrap\" ref={menuRef}> \r\n            <div className=\"row_control\">\r\n                {edit_folder_toggle ? \r\n                <form className=\"row_name_sub\" onSubmit={onSubmit}>\r\n                    <input type=\"text\" defaultValue={folder.name} onChange={(e) => {setFolder_name(e.target.value)}} className=\"new_input\"/>\r\n                </form>\r\n                :\r\n                <div className=\"row_name_sub\" onClick={() => folder_bookmark(folder.id)}>\r\n                    <FontAwesomeIcon icon={[\"far\", \"folder\"]} className=\"decor_icons\"/>\r\n                    <div className=\"folder_name\" >{folder.name}</div>\r\n                </div>}\r\n                <div className=\"icon_right\" onClick={toggle_folderdropdown}>\r\n                    <div className=\"link_control_sub\">\r\n                        <FontAwesomeIcon icon={[\"fas\", \"ellipsis-h\"]} className=\"link_icons\"/>\r\n                    </div>\r\n                </div> \r\n                {folderdropdown ? \r\n                <div className=\"folderDropdown\">\r\n                    <ul>\r\n                        <li onClick={edit_folder}>Edit</li>\r\n                        <li onClick={delete_folder}>Delete</li>\r\n                    </ul>\r\n                </div> :\r\n                \"\"}         \r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Folder\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport Folder from './Folder'\r\nimport { useState } from 'react'\r\n\r\nconst Folders = ({folders, folder_bookmark, create_folder, show_new_folder, update_folder, onDeletefolder}) => {\r\n\r\n    const [new_folder, setNew_folder] = useState(\"\")\r\n \r\n    const onSubmit = (e) => {\r\n        e.preventDefault()\r\n        create_folder(new_folder)\r\n        setNew_folder(\"\")\r\n    }\r\n    return (\r\n        <div className=\"folders\">\r\n            <ul>\r\n                {folders.map((folder) => (\r\n                    <Folder key={folder.id} folder={folder} folder_bookmark={folder_bookmark} update_folder={update_folder} onDeletefolder={onDeletefolder}/>\r\n                    \r\n                ))}\r\n                {show_new_folder ? \r\n                <form onSubmit={onSubmit}>\r\n                    <input type=\"text\" value={new_folder} onChange={(e) => {setNew_folder(e.target.value)}} placeholder=\"enter folder name\" className=\"new_input\"/>\r\n                </form>\r\n                 : \"\"}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Folders\r\n\r\n// row-wrap的目的是选中这一行，添加hover效果\r\n// row-control目的是display flex和space-between，把左边和右边的icon分开\r\n// row-name目的是把左图标和名字放同一行，且调整位置（margin、padding）\r\n\r\n// icon-right目的是选择右边,添加hover效果\r\n// link-control-sub目的是调整位置（右边icon)\r\n\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { useState, useRef, useEffect } from \"react\"\r\n\r\nconst Tag = ({tag, tag_bookmark, update_tag, onDeletetag}) => {\r\n\r\n    const [tagdropdown, setTagdropdown] = useState(false)\r\n    const [edit_tag_toggle, setEdit_tag_toggle] = useState(false)\r\n    const [tag_name, setTag_name] = useState(\"\")\r\n\r\n    let menuRef = useRef()\r\n    \r\n    const editTagListener = (event) => {\r\n        \r\n        if (!menuRef.current.contains(event.target)) {\r\n            setEdit_tag_toggle(false)\r\n        }\r\n    }\r\n\r\n    useEffect(\r\n        () => {\r\n            document.addEventListener(\"mousedown\", editTagListener);\r\n            return () => {\r\n            document.removeEventListener(\"mousedown\", editTagListener);\r\n        } \r\n    }, [edit_tag_toggle])\r\n\r\n    const toggle_tagdropdown = () => {\r\n        \r\n        setTagdropdown(!tagdropdown)\r\n        console.log(tagdropdown)\r\n    }\r\n\r\n    const edit_tag = () => {\r\n        setTagdropdown(false)\r\n        setEdit_tag_toggle(true)\r\n        \r\n    }\r\n\r\n    const delete_tag = () => {\r\n        onDeletetag(tag.id)\r\n    }\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault()\r\n        await update_tag(tag.id, tag_name)\r\n        setEdit_tag_toggle(false)\r\n    }\r\n\r\n    return (\r\n        <div className=\"row-wrap\" ref={menuRef}> \r\n            <div className=\"row_control\">\r\n                {edit_tag_toggle ? \r\n                <form className=\"row_name_sub\" onSubmit={onSubmit}>\r\n                    <input type=\"text\" defaultValue={tag.name} onChange={(e) => {setTag_name(e.target.value)}} className=\"new_input\"/>\r\n                </form>\r\n                :\r\n                <div className=\"row_name_sub\" onClick={() => tag_bookmark(tag.id)}>\r\n                    <FontAwesomeIcon icon={[\"fas\", \"hashtag\"]} className=\"decor_icons\"/>\r\n                    <div className=\"tag_name\">{tag.name}</div>\r\n                </div>}\r\n                <div className=\"icon_right\" onClick={toggle_tagdropdown}>\r\n                    <div className=\"link_control_sub\">\r\n                        <FontAwesomeIcon icon={[\"fas\", \"ellipsis-h\"]} className=\"link_icons\"/>\r\n                    </div>\r\n                </div>\r\n                {tagdropdown ? \r\n                <div className=\"tagDropdown\">\r\n                    <ul>\r\n                        <li onClick={edit_tag}>Edit</li>\r\n                        <li onClick={delete_tag}>Delete</li>\r\n                    </ul>\r\n                </div> :\r\n                \"\"}      \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Tag\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport Tag from './Tag'\r\nimport { useState } from 'react'\r\n\r\nconst Tags = ({tags, tag_bookmark, create_tag, show_new_tag, update_tag, onDeletetag}) => {\r\n\r\n    const [new_tag, setNew_tag] = useState(\"\")\r\n \r\n    const onSubmit = (e) => {\r\n        e.preventDefault()\r\n        create_tag(new_tag)\r\n        setNew_tag(\"\")\r\n    }\r\n    return (\r\n        <div className=\"tags\">\r\n            <ul>\r\n                {tags.map((tag) => (\r\n                    <Tag key={tag.id} tag={tag} tag_bookmark={tag_bookmark} update_tag={update_tag} onDeletetag={onDeletetag}/>\r\n                ))}\r\n                \r\n                {show_new_tag ? \r\n                <form onSubmit={onSubmit}>\r\n                    <input type=\"text\" value={new_tag} onChange={(e) => {setNew_tag(e.target.value)}} placeholder=\"enter tag name\" className=\"new_input\"/>\r\n                </form>\r\n                 : \"\"}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Tags","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { useState } from 'react'\r\n\r\nconst Bookmark = ({bookmark,tag_filter,rTags,onDeletebookmark, edit_bookmark}) => {\r\n    const [edit_bookmark_toggle, setEdit_bookmark_toggle] = useState(false)\r\n\r\n\r\n    const onClick_edit = () => {\r\n        edit_bookmark(bookmark.id, bookmark)\r\n    }\r\n    return (\r\n        <div  className=\"card\">            \r\n            <div className=\"normal_card\">\r\n                <div className=\"preview_image\">\r\n                    <img src={bookmark.preview_image} alt=\"\"></img>\r\n                </div>\r\n\r\n                <div className=\"preview_text\">\r\n                    <div className=\"bookmark_title\">\r\n                        <h5>{bookmark.title}</h5>\r\n                    </div>\r\n                    <div className=\"preview_description_wrap\">\r\n                        <div className=\"preview_description\">\r\n                            <p>{bookmark.description}</p>\r\n                        </div>\r\n                    </div>\r\n                \r\n                    <div className=\"text_footnote\">\r\n                        <div className=\"bookmark_domain\">\r\n                            <FontAwesomeIcon icon=\"thumbtack\" className=\"icon_footnote\"/>\r\n                            <p>{bookmark.domain}</p>\r\n                        </div>\r\n                        <div className=\"date_created\">\r\n                            <FontAwesomeIcon icon=\"calendar-day\" className=\"icon_footnote\"/>\r\n                            <p>{bookmark.date_created}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"tag_name\">\r\n\r\n                        {bookmark.tag.map(each => <a className=\"tag_name_element\" onClick={() => tag_filter(each)}>#{rTags[each]}</a>)}                \r\n                    </div>\r\n                </div>\r\n\r\n                <a className=\"hover_icons left\" href={bookmark.page_url} target=\"_blank\" rel=\"noreferrer\">\r\n                    <FontAwesomeIcon icon=\"book-reader\"/>\r\n                </a>\r\n                <div className=\"hover_icons middle\" onClick={onClick_edit}>\r\n                    <FontAwesomeIcon icon=\"pencil-alt\" />\r\n                </div>\r\n                <div className=\"hover_icons right\" onClick={() => onDeletebookmark(bookmark.id)}>\r\n                    <FontAwesomeIcon icon=\"trash-alt\" />\r\n                </div>\r\n            </div>    \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Bookmark\r\n","import React from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { useState } from 'react'\r\nimport Bookmark from './Bookmark'\r\n\r\n\r\n\r\nconst Bookmarks = ({bookmarks, loader, onDeletebookmark, tags, tag_filter, edit_bookmark}) => {\r\n    const reversed_bookmarks = [...bookmarks].reverse()\r\n    \r\n    const rTags = Object.assign({}, ...(tags.map(item => ({ [item.id]: item.name }) )))\r\n\r\n    const [filtered_tags, setFiltered_tags] = useState(tags)\r\n\r\n    return (\r\n        <>\r\n            {loader ? \r\n            <div className=\"card\">\r\n                <div className=\"normal_card\">\r\n                    <div className=\"preview_image skeleton\"></div>\r\n                    <div className=\"preview_text\">\r\n                        <div className=\"bookmark_title\">\r\n                            <div className=\"skeleton skeleton_text\"></div>\r\n                            <div className=\"skeleton skeleton_text\"></div>\r\n                        </div>\r\n                        <div className=\"preview_description_wrap\">\r\n                            <div className=\"preview_description\">\r\n                                <div className=\"skeleton skeleton_text\"></div>\r\n                                <div className=\"skeleton skeleton_text\"></div>\r\n                                <div className=\"skeleton skeleton_text\"></div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"text_footnote\">\r\n                            <div className=\"skeleton skeleton_footnote\"></div>\r\n                            <div className=\"skeleton skeleton_footnote\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            :\r\n            \"\"}\r\n\r\n            {reversed_bookmarks.map((bookmark) => (\r\n                <Bookmark key={bookmark.id} bookmark={bookmark} tag_filter={tag_filter} rTags={rTags} onDeletebookmark={onDeletebookmark} edit_bookmark={edit_bookmark}/>\r\n            ))}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Bookmarks\r\n","import { useState, useEffect } from 'react'\r\n\r\nconst Editbookmark = ({edit_id, bookmark_concerned, update_bookmark, tags, folders, close_edit}) => {\r\n\r\n    useEffect(() => {\r\n        setBookmark_title(bookmark_concerned.title);\r\n        setBookmark_description(bookmark_concerned.description);\r\n        setBookmark_folder(bookmark_concerned.folder);\r\n        setBookmark_tag(bookmark_concerned.tag);\r\n        \r\n    }, [edit_id])\r\n\r\n    const [bookmark_title, setBookmark_title] = useState(bookmark_concerned.title)\r\n    const [bookmark_description, setBookmark_description] = useState(bookmark_concerned.description)\r\n    const [bookmark_folder, setBookmark_folder] = useState(bookmark_concerned.folder)\r\n    const [bookmark_tag, setBookmark_tag] = useState(bookmark_concerned.tag)\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault()\r\n        update_bookmark(bookmark_title,bookmark_description,bookmark_folder,bookmark_tag)\r\n        console.log(bookmark_concerned.tag)\r\n        console.log(bookmark_concerned.folder)\r\n        console.log(bookmark_folder)\r\n    }\r\n\r\n   \r\n   \r\n    return (\r\n        <div className=\"edit_form\">\r\n            <div className=\"xmark\" onClick={close_edit}>✕</div>\r\n            <p>- Edit Bookmark -</p>\r\n            <form className=\"row_name_sub\" onSubmit={onSubmit}>\r\n                <div className=\"form_control\">\r\n                     <label>Folder</label>\r\n                    <select value={bookmark_folder} onChange={(e) => {setBookmark_folder((e.target.value))}}>\r\n                        <option value=\"\" disabled selected hidden>Please select folder</option>\r\n                        {folders.map(folder => <option key={folder.id} value={folder.id}>{folder.name}</option>)}\r\n                    </select>\r\n                </div>\r\n                <div className=\"form_control\">\r\n                    <label>Tag</label>\r\n                    <select value={bookmark_tag} onChange={(e) =>  {setBookmark_tag(Array.from(e.target.selectedOptions, option => option.value))}} multiple>\r\n                        {tags.map(tag => <option key={tag.id} value={tag.id}>{tag.name}</option>)}\r\n                    </select>\r\n                </div>\r\n                <div className=\"form_control\">\r\n                    <label>Bookmark Title</label>\r\n                    <input type=\"text\" value={bookmark_title} onChange={(e) => {setBookmark_title(e.target.value)}} className=\"new_input\"/>\r\n                </div>\r\n                <div className=\"form_control\">\r\n                    <label>Bookmark Description</label>\r\n                    <input type=\"text\" value={bookmark_description} onChange={(e) => {setBookmark_description(e.target.value)}} className=\"new_input\"/>\r\n                </div>\r\n                \r\n                <input type=\"submit\" value=\"Update Bookmark\" className=\"button_control\"/>\r\n\r\n                \r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Editbookmark\r\n","import React from 'react'\r\nimport { useState } from \"react\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nconst Searchbar = ({search_bookmark}) => {\r\n    const [search_input, setSearch_input] = useState(\"\")\r\n    \r\n\r\n    return (\r\n        <div className=\"searchbar\">\r\n            \r\n            <div className=\"dropdown\">\r\n                <input type=\"text\" className=\"searchbar_input\" value={search_input} onChange={(e) => setSearch_input(e.target.value)} placeholder=\"enter your search\" />\r\n                {/* <ul className=\"dropdown_list\">\r\n                    <li className=\"row_wrap\">history1</li>\r\n                    <li className=\"row_wrap\">history2</li> \r\n                    <li className=\"row_wrap\">history1</li>\r\n                    <li className=\"row_wrap\">history1</li>\r\n                    <li className=\"row_wrap\">history2</li> \r\n                    <li className=\"row_wrap\">history1</li>\r\n                </ul> */}\r\n            </div>\r\n            <button className=\"searchbar_submit\" onClick={() => search_bookmark(search_input)}><FontAwesomeIcon icon=\"search\" /></button>\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Searchbar\r\n","import { useState, useRef, useEffect } from \"react\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\n\r\nconst Addbutton = ({folders, tags, dropdown_list, add_task, addbutton_submit, showDropdown, handle_hidedropdown, toggle_showdropdown}) => {\r\n   \r\n    \r\n    const [page_url, setPage_url] = useState(\"\")\r\n    const [folder, setFolder] = useState(\"\")\r\n    const [tag, setTag] = useState([])\r\n    \r\n    let menuRef = useRef()\r\n\r\n    const refListener = (event) => {\r\n        \r\n        if (!menuRef.current.contains(event.target)) {\r\n            handle_hidedropdown()\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n            document.addEventListener(\"mousedown\", refListener);\r\n\r\n            return () => {\r\n            document.removeEventListener(\"mousedown\", refListener);\r\n        } \r\n\r\n    }, [showDropdown])\r\n  \r\n    const onSubmit = async (e) => {\r\n        e.preventDefault()\r\n        await add_task(page_url, folder, tag)\r\n        console.log(\"folder:\",folder, \"tag:\",tag)\r\n        \r\n        // wait until the task has been added to clear the \"page_url\"\r\n        setPage_url(\"\")\r\n        setFolder(\"\")\r\n        setTag([]) \r\n    // }\r\n    }\r\n\r\n    \r\n    return (\r\n\r\n        <div ref={menuRef} className=\"addbutton\" >\r\n            <div className=\"star_button\" onClick={() => toggle_showdropdown()}>\r\n                <FontAwesomeIcon icon=\"star\" className=\"link_icons\" />\r\n            </div>\r\n            {showDropdown &&\r\n                <form  className=\"dropdown_menu\" onSubmit={onSubmit}>\r\n                    <div className=\"form_control\">\r\n                        <label>URL</label>\r\n                        <input type=\"text\" value={page_url} onChange={(e) => {setPage_url(e.target.value)}} placeholder=\"enter page url\" className={addbutton_submit ? \"inactive_input\" : \"\"}/>\r\n                    </div>\r\n                    <div className=\"form_control\">\r\n                        <label>Folder</label>\r\n                        <select onChange={(e) => {setFolder(e.target.value)}}>\r\n                            <option value=\"0\" disabled selected hidden>Please select folder</option>\r\n                            {folders.map(folder => <option key={folder.id} value={folder.id}>{folder.name}</option>)}\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"form_control\">\r\n                        <label>Tag</label>\r\n                        \r\n                        <select onChange={(e) =>  {setTag(Array.from(e.target.selectedOptions, option => option.value))}} multiple>\r\n                            {tags.map(tag => <option key={tag.id} value={tag.id}>{tag.name}</option>)}\r\n                        </select>\r\n                        \r\n                    </div>\r\n                    \r\n                    <input type=\"submit\" value=\"Save Bookmark\" className={`button_control ${addbutton_submit && 'inactive_button'}`}/>\r\n                \r\n                </form>}\r\n            \r\n            \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Addbutton\r\n","import React from 'react'\r\n\r\nconst Sortbutton = () => {\r\n    return (\r\n        <div className=\"sortbutton\">\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sortbutton\r\n","import React from 'react'\r\nimport { useState, useEffect, useContext } from \"react\"\r\nimport { Link } from 'react-router-dom'\r\nimport Folders from '../component/Folders'\r\nimport Tags from '../component/Tags'\r\nimport Bookmarks from '../component/Bookmarks'\r\nimport Editbookmark from '../component/Editbookmark'\r\nimport Searchbar from \"../component/Searchbar\"\r\nimport Addbutton from \"../component/Addbutton\"\r\nimport Sortbutton from \"../component/Sortbutton\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faEllipsisH, faBookmark, faFolder, faTags, faUser, faFolderOpen, faAngleDoubleDown, faAngleDoubleUp, faHashtag, faUserTag, faThumbtack, faCalendarDay, faPencilAlt, faBookReader, faTrashAlt, faSearch, faStar, faPlus, faTrash, faLock, faEnvelope} from '@fortawesome/free-solid-svg-icons'\r\nimport { faFolder as faFolderRegular, faUser as faUserRegular} from '@fortawesome/free-regular-svg-icons'\r\nimport AuthContext from '../context/AuthContext'\r\n\r\n\r\n\r\n\r\nlibrary.add(faEllipsisH, faBookmark, faFolder, faTags, faUser, faFolderOpen, faAngleDoubleDown, faAngleDoubleUp, faFolderRegular, faHashtag, faUserTag, faThumbtack, faCalendarDay, faPencilAlt, faBookReader, faTrashAlt, faSearch, faStar, faPlus, faTrash, faLock, faEnvelope, faUserRegular)\r\n\r\n\r\nconst Homepage = () => {\r\n    const [folders, setFolders] = useState([])\r\n    const [tags, setTags] = useState([])\r\n    const [bookmarks, setBookmarks] = useState([])\r\n    const [showFolders, setShowFolders] = useState(false)\r\n    const [showTags, setShowTags] = useState(false)\r\n    const [titleBar, setTitleBar] = useState('All Bookmarks')\r\n    const [folderIcon, setFolderIcon] = useState(false)\r\n    const [tagIcon, setTagIcon] = useState(false)\r\n    const [allbookmarkIcon, setAllbookmarkIcon] = useState(true)\r\n    const [loader, setLoader] = useState(false)\r\n    const [addbutton_submit, setAddbutton_submit] = useState(false)\r\n    const [filtered_tag_bookmarks, setFiltered_tag_bookmarks] = useState([])\r\n    const [show_new_tag, setShow_new_tag] = useState(false)\r\n    const [show_new_folder, setShow_new_folder] = useState(false)\r\n    const [edit_bookmark_toggle, setEdit_bookmark_toggle] = useState(false)\r\n    const [edit_id, setEdit_id] = useState(\"\")\r\n    const [bookmark_concerned, setBookmark_concerned] = useState(\"\")\r\n  \r\n    const [showDropdown, setShowDropdown] = useState(false)\r\n    \r\n    const {user} = useContext(AuthContext)\r\n    const {authTokens, logoutUser} = useContext(AuthContext)\r\n    \r\n    // false not 'false'\r\n    \r\n  \r\n    useEffect(() => {\r\n      const foldersFromServer = async () => {\r\n        const folders = await fetchFolders()\r\n        setFolders(folders)\r\n      };\r\n      foldersFromServer();\r\n  \r\n  \r\n      const tagsFromServer = async () => {\r\n        const tags = await fetchTags()\r\n        setTags(tags)\r\n      };\r\n      tagsFromServer();\r\n  \r\n      const bookmarksFromServer = async () => {\r\n        const bookmarks = await fetchBookmarks()\r\n        setBookmarks(bookmarks)\r\n        setFiltered_tag_bookmarks(bookmarks)\r\n      };\r\n      bookmarksFromServer();\r\n      \r\n    }, [])\r\n  \r\n    const fetchFolders = async () => {\r\n      const res = await fetch('/backend/folder-list',{\r\n        method:'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + String(authTokens.access)\r\n        }\r\n      })\r\n      const data = await res.json()\r\n      if (res.status === 200){\r\n        return data\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }\r\n\r\n    }\r\n  \r\n    const fetchTags = async () => {\r\n      const res = await fetch('/backend/tag-list',{\r\n        method:'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + String(authTokens.access)\r\n        }\r\n      })\r\n      const data = await res.json()\r\n      if (res.status === 200){\r\n        return data\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }\r\n    }\r\n  \r\n    const fetchBookmarks = async () => {\r\n      const res = await fetch('/backend/bookmark-list',{\r\n        method:'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + String(authTokens.access)\r\n        }\r\n      })\r\n      const data = await res.json()\r\n      if (res.status === 200){\r\n        return data\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }\r\n     \r\n      \r\n      \r\n    }\r\n  \r\n    const folderToggle = () => {\r\n      setShowFolders(!showFolders)\r\n    }\r\n  \r\n    const tagToggle = () => {\r\n      setShowTags(!showTags)\r\n    }\r\n  \r\n    const folder_bookmark = async (id) => {\r\n      const res = await fetch(`/backend/folder-detail/${id}`,{\r\n        method:'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + String(authTokens.access)\r\n        }\r\n      })\r\n      const data = await res.json()\r\n      if (res.status === 200){\r\n        const all_bookmarks = await fetchBookmarks()\r\n        console.log(\"all_bookmarks:\", all_bookmarks, \"data:\", data[\"bookmarks\"])\r\n        setBookmarks(all_bookmarks.filter(bookmark => data[\"bookmarks\"].includes(bookmark.id)))\r\n        \r\n        setTitleBar(data[\"folder_name\"])\r\n        setFolderIcon(true)\r\n        setTagIcon(false)\r\n        setAllbookmarkIcon(false)\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }     \r\n    }\r\n  \r\n    const tag_bookmark = async (id) => {\r\n      const res = await fetch(`/backend/tag-detail/${id}`,{\r\n        method:'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + String(authTokens.access)\r\n        }\r\n      })\r\n      \r\n      const data = await res.json()\r\n      if (res.status === 200){\r\n        const all_bookmarks = await fetchBookmarks()\r\n        setBookmarks(all_bookmarks.filter(bookmark => data[\"bookmarks\"].includes(bookmark.id)))\r\n        setTitleBar(data[\"tag_name\"])\r\n        setFolderIcon(false)\r\n        setTagIcon(true)\r\n        setAllbookmarkIcon(false)\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }\r\n    }\r\n  \r\n    const show_all_bookmarks = async () => {\r\n      const bookmarks = await fetchBookmarks()\r\n      setBookmarks(bookmarks)\r\n      setFiltered_tag_bookmarks(bookmarks)\r\n      setTitleBar('All Bookmarks')\r\n      setFolderIcon(false)\r\n      setTagIcon(false)\r\n      setAllbookmarkIcon(true)\r\n    }\r\n  \r\n    const onDeletebookmark = async (id) => {\r\n      const res = await fetch(`/backend/bookmark-delete/${id}`,{\r\n        method:'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + String(authTokens.access)\r\n        }\r\n      })\r\n\r\n      if (res.status === 200){\r\n        const bookmarksFromServer = async () => {\r\n          const bookmarks = await fetchBookmarks()\r\n          setBookmarks(bookmarks)\r\n        };\r\n        bookmarksFromServer()\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }\r\n        \r\n    }\r\n      \r\n    const search_bookmark = async (search_input) => {\r\n      const all_bookmarks = await fetchBookmarks()\r\n      setBookmarks(all_bookmarks.filter((bookmark) => bookmark.title.toLowerCase().includes(search_input.toLowerCase())))\r\n      \r\n    }\r\n  \r\n\r\n    const tag_filter = async(id) => {\r\n      const res = await fetch(`/backend/tag-detail/${id}`,{\r\n        method:'GET',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + String(authTokens.access)\r\n        }\r\n      })\r\n      \r\n      const data = await res.json()\r\n      if (res.status === 200){\r\n        \r\n        setBookmarks(filtered_tag_bookmarks.filter(bookmark => data[\"bookmarks\"].includes(bookmark.id)))\r\n        setFiltered_tag_bookmarks(filtered_tag_bookmarks.filter(bookmark => data[\"bookmarks\"].includes(bookmark.id)))\r\n        // setTitleBar(data[\"tag_name\"])\r\n        // setFolderIcon(false)\r\n        // setTagIcon(true)\r\n        // setAllbookmarkIcon(false)\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }\r\n\r\n    }\r\n\r\n    const add_task = async (page_url,folder,tag) => {\r\n        // fetch(`/backend/bookmark-create/?page_url=${page_url}`, {\r\n        //     method: 'POST',\r\n        //     headers: {\r\n        //         'Content-type': 'application/json',\r\n        //     },\r\n        // }).then(x => x.json()).then(json => {\r\n        //     console.log(json);\r\n        // })\r\n        setAddbutton_submit(true)\r\n        setLoader(true)\r\n\r\n        const res = await fetch('/backend/bookmark-create/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'Authorization': 'Bearer ' + String(authTokens.access)\r\n            },\r\n            body: JSON.stringify({'page_url':page_url,'folder':folder,'tag':tag})\r\n        })\r\n       \r\n      \r\n        const data = await res.json()\r\n        \r\n        console.log(data,res.status)\r\n        \r\n\r\n        if (data.error === \"error\") {\r\n          setBookmarks(bookmarks)\r\n          setAddbutton_submit(false)\r\n          setLoader(false)\r\n          setShowDropdown(false)\r\n          alert(\"Error when loading the bookmark, please try another one\")\r\n        } else if(res.statusText === 'Unauthorized'){\r\n          logoutUser()\r\n          \r\n        }else {\r\n            const bookmarks = await fetchBookmarks()\r\n            setBookmarks(bookmarks)\r\n            setAddbutton_submit(false)\r\n            setLoader(false)\r\n            setShowDropdown(false)\r\n        }\r\n    }\r\n\r\n    const update_bookmark = async (bookmark_title,bookmark_description,bookmark_folder,bookmark_tag) => {\r\n      const res = await fetch(`/backend/bookmark-update/${edit_id}`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type': 'application/json',\r\n                'Authorization': 'Bearer ' + String(authTokens.access)\r\n            },\r\n            body: JSON.stringify({'title':bookmark_title,'description':bookmark_description,'folder':bookmark_folder,'tag':bookmark_tag})\r\n        })\r\n        \r\n      const data = await res.json()\r\n\r\n      console.log(data)\r\n      \r\n      if (data.error === \"error\") {\r\n        alert(\"Bookmark update failed, please try again\")\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }else {\r\n        const bookmarks = await fetchBookmarks()\r\n        setBookmarks(bookmarks)\r\n        setAllbookmarkIcon(true)\r\n        setTitleBar(\"All Bookmarks\")\r\n        alert(\"Bookmark updated\")\r\n        setEdit_bookmark_toggle(false)\r\n      }\r\n    }\r\n  \r\n\r\n    const create_tag_toggle = () => {\r\n      setShow_new_tag(!show_new_tag)\r\n    }\r\n\r\n    const create_folder_toggle = () => {\r\n      setShow_new_folder(!show_new_folder)\r\n    }\r\n\r\n    const create_tag = async(new_tag) => {\r\n      console.log(\"create tag\")\r\n      setShow_new_tag(false)\r\n\r\n      const res = await fetch('/backend/tag-create/', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/json',\r\n            'Authorization': 'Bearer ' + String(authTokens.access)\r\n        },\r\n        body: JSON.stringify({'name':new_tag})\r\n      })\r\n   \r\n\r\n      const data = await res.json()\r\n  \r\n      if (res.status === 200){\r\n        const tags = await fetchTags()\r\n        setTags(tags)\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }     \r\n    }\r\n\r\n    const create_folder = async(new_folder) => {\r\n     \r\n      setShow_new_folder(false)\r\n\r\n      const res = await fetch('/backend/folder-create/', {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/json',\r\n            'Authorization': 'Bearer ' + String(authTokens.access)\r\n        },\r\n        body: JSON.stringify({'name':new_folder})\r\n      })\r\n   \r\n\r\n      const data = await res.json()\r\n  \r\n      if (res.status === 200){\r\n        const folders = await fetchFolders()\r\n        setFolders(folders)\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }     \r\n    }\r\n\r\n    const update_tag = async (id, tag_name) => {\r\n      console.log(\"update tag\")\r\n      setShow_new_tag(false)\r\n\r\n      const res = await fetch(`/backend/tag-update/${id}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/json',\r\n            'Authorization': 'Bearer ' + String(authTokens.access)\r\n        },\r\n        body: JSON.stringify({'name':tag_name})\r\n      })\r\n   \r\n\r\n      const data = await res.json()\r\n      console.log(data)\r\n  \r\n      if (res.status === 200){\r\n        const tags = await fetchTags()\r\n        setTags(tags)\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }     \r\n    }\r\n\r\n    const update_folder = async (id, folder_name) => {\r\n      console.log(\"update folder\")\r\n      setShow_new_folder(false)\r\n\r\n      const res = await fetch(`/backend/folder-update/${id}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/json',\r\n            'Authorization': 'Bearer ' + String(authTokens.access)\r\n        },\r\n        body: JSON.stringify({'name':folder_name})\r\n      })\r\n   \r\n\r\n      const data = await res.json()\r\n      console.log(data)\r\n  \r\n      if (res.status === 200){\r\n        const folders = await fetchFolders()\r\n        setFolders(folders)\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }     \r\n    }\r\n\r\n    const onDeletetag = async (id) => {\r\n      const res = await fetch(`/backend/tag-delete/${id}`,{\r\n        method:'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + String(authTokens.access)\r\n        }\r\n      })\r\n\r\n      if (res.status === 200){\r\n        const tags = await fetchTags()\r\n        setTags(tags)\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }\r\n        \r\n    }\r\n\r\n    const onDeletefolder = async (id) => {\r\n      const res = await fetch(`/backend/folder-delete/${id}`,{\r\n        method:'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + String(authTokens.access)\r\n        }\r\n      })\r\n\r\n      if (res.status === 200){\r\n        const folders = await fetchFolders()\r\n        setFolders(folders)\r\n      }else if(res.statusText === 'Unauthorized'){\r\n        logoutUser()\r\n      }\r\n        \r\n    }\r\n\r\n    const handle_hidedropdown = () => {\r\n      setShowDropdown(false)\r\n    }\r\n      \r\n  \r\n    const  toggle_showdropdown = () => {\r\n      \r\n      setShowDropdown(!showDropdown)\r\n      // toggle action is passed up from addbutton component to APP component, and showDropdown state is passed down from APP to addbutton\r\n    }\r\n       \r\n    const edit_bookmark = (id, bookmark) => {\r\n      if (edit_bookmark_toggle === false) {\r\n        setEdit_bookmark_toggle(!edit_bookmark_toggle)\r\n\r\n      }else if ((edit_bookmark_toggle === true)  && (edit_id === id)) {\r\n        setEdit_bookmark_toggle(!edit_bookmark_toggle)\r\n      }else {\r\n        \r\n      }\r\n\r\n      setEdit_id(id)\r\n      setBookmark_concerned(bookmark)\r\n      console.log(id, bookmark_concerned)\r\n     \r\n    }\r\n\r\n    const close_edit = () => {\r\n      setEdit_bookmark_toggle(false)\r\n    }\r\n  \r\n    return (\r\n        <div className=\"container\">\r\n            {/* ---NAVIGATION--- */}\r\n            <section className=\"navigation\">\r\n                {/* userheader */}\r\n                <div className=\"userHeader\">\r\n                    <div className=\"userName\">\r\n                        <div className=\"link_control header_font_size\">              \r\n                            <FontAwesomeIcon icon={[\"fas\", \"user\"]} className=\"decor_icons\"/>\r\n                            <div style={{ textDecoration: 'none', color: \"rgb(54, 53, 53)\"}}>Hi, {user.username}</div>\r\n                                        \r\n                        </div>\r\n                    </div>\r\n                    <div className=\"headerEllipsis\">\r\n                        <div className=\"row_name header_font_size\" onClick={logoutUser}>\r\n                          <p>Log Out</p>\r\n                        {/* <FontAwesomeIcon icon={[\"fas\", \"ellipsis-h\"]} className=\"link_icons\"/> */}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/* all_bookmarks */}\r\n                <div className=\"all_bookmarks\" >\r\n                    <div className=\"row_control\" onClick={show_all_bookmarks}>\r\n                        <div className=\"row_name\">\r\n                            <FontAwesomeIcon icon=\"bookmark\" className=\"decor_icons\"/>\r\n                            <h5>All bookmarks</h5>\r\n                        </div> \r\n                    </div>        \r\n                </div>\r\n                {/* folders */}\r\n                <div className=\"folders\">\r\n                    <div className=\"row_wrap\" >\r\n                        <div className=\"row_control\">\r\n                            <div className=\"row_name\" onClick={folderToggle}>\r\n                                {showFolders ? <FontAwesomeIcon icon={[\"fas\", \"folder-open\"]} className=\"decor_icons\"/> : <FontAwesomeIcon icon={[\"fas\", \"folder\"]} className=\"decor_icons\"/>}\r\n                                <h5>Folders</h5>\r\n                            </div>\r\n                            <div className=\"icon_right\" onClick={create_folder_toggle}>\r\n                                <div className=\"link_control\">\r\n                                    {showFolders ? <FontAwesomeIcon icon={[\"fas\", \"plus\"]} className=\"link_icons\" /> : <FontAwesomeIcon icon={[\"fas\", \"angle-double-down\"]} className=\"link_icons\"/> }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {showFolders ? <Folders folders={folders} folder_bookmark={folder_bookmark} create_folder={create_folder} show_new_folder={show_new_folder} update_folder={update_folder} onDeletefolder={onDeletefolder}/> : \"\"}\r\n                </div>\r\n                {/* tags */}\r\n                <div className=\"tags\">\r\n                    <div className=\"row_wrap\">\r\n                        <div className=\"row_control\">\r\n                            <div className=\"row_name\" onClick={tagToggle}>\r\n                                {showTags ? <FontAwesomeIcon icon={[\"fas\", \"user-tag\"]} className=\"decor_icons\"/> : <FontAwesomeIcon icon={[\"fas\", \"tags\"]} className=\"decor_icons\"/>}\r\n                                <h5>Tags</h5>\r\n                            </div>\r\n                            <div className=\"icon_right\" onClick={create_tag_toggle}>\r\n                                <div className=\"link_control\">\r\n                                    {showTags ? <FontAwesomeIcon icon={[\"fas\", \"plus\"]} className=\"link_icons\" /> : <FontAwesomeIcon icon={[\"fas\", \"angle-double-down\"]} className=\"link_icons\"/>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {showTags ? <Tags tags={tags} tag_bookmark={tag_bookmark} create_tag={create_tag} show_new_tag={show_new_tag} update_tag={update_tag} onDeletetag={onDeletetag}/> : \"\"}\r\n                </div>        \r\n            </section>\r\n\r\n            {/* ---SHOWCASE--- */}\r\n            <div className=\"main_part\">\r\n              <section className=\"showcase\">\r\n                  {/* functionbar */}\r\n                  <div className=\"function_bar\">\r\n                      <Searchbar search_bookmark={search_bookmark} />\r\n                      <div className=\"function_button\">\r\n                          <Addbutton folders={folders} tags={tags} add_task={add_task} addbutton_submit={addbutton_submit} showDropdown={showDropdown} toggle_showdropdown={toggle_showdropdown} handle_hidedropdown={handle_hidedropdown}/>\r\n                          <Sortbutton />\r\n                      </div>\r\n                  </div>\r\n                  {/* main */}\r\n                  <div className=\"main\">\r\n                      <div className=\"title_bar\">\r\n                          {allbookmarkIcon ? <FontAwesomeIcon icon=\"bookmark\" className=\"decor_icons\"/> : folderIcon ? <FontAwesomeIcon icon={[\"far\", \"folder\"]} className=\"decor_icons\"/> : <FontAwesomeIcon icon={[\"fas\", \"hashtag\"]} className=\"decor_icons\"/>}<h2>{titleBar}</h2>\r\n                      </div>\r\n                      <div className=\"bookmark_area\">\r\n                          <Bookmarks bookmarks={bookmarks} loader={loader} onDeletebookmark={onDeletebookmark} tags={tags} tag_filter={tag_filter} edit_bookmark={edit_bookmark}/>\r\n                      </div>\r\n                  </div>\r\n              </section>\r\n              {edit_bookmark_toggle ?\r\n              <section className=\"edit_showcase\">\r\n                <Editbookmark edit_id={edit_id} bookmark_concerned={bookmark_concerned} update_bookmark={update_bookmark} tags={tags} folders={folders} close_edit={close_edit}/>\r\n              </section>\r\n              :\"\"\r\n              }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Homepage\r\n","import React, {useContext} from 'react'\r\nimport { useState, useEffect } from \"react\"\r\nimport { Link } from 'react-router-dom'\r\nimport AuthContext from '../context/AuthContext'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUser, faLock } from '@fortawesome/free-solid-svg-icons'\r\nimport { faUser as faUserRegular} from '@fortawesome/free-regular-svg-icons'\r\n\r\nconst Loginpage = () => {\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n\r\n    const {user} = useContext(AuthContext)\r\n    const {loginUser} = useContext(AuthContext)\r\n    return (\r\n        <div className=\"identity_page login_page\">\r\n            <div className=\"identity_image\"></div>\r\n            \r\n            <div className=\"identity_content\">\r\n                <div className=\"identity_content_container\">\r\n                    <div className=\"identity_content_bg\"></div>\r\n                    <form className=\"identity_form\" onSubmit={loginUser}>\r\n                        {/* <h1>Login Page</h1> */}\r\n                        <div className=\"profile\">\r\n                            <FontAwesomeIcon icon={[\"far\",\"user\"]} />\r\n                        </div>\r\n                        <div className=\"form_control identity first\">\r\n                            \r\n                            <div className=\"identity_icon\">\r\n                                <FontAwesomeIcon icon=\"envelope\" />\r\n                            </div>\r\n                            <input type=\"text\" name=\"email\" value={email} onChange={(e)=> {setEmail(e.target.value)}} placeholder=\"Email ID\"/>\r\n                        </div>\r\n                        <div className=\"form_control identity\">\r\n                            <div className=\"identity_icon\">\r\n                                <FontAwesomeIcon icon=\"lock\" />\r\n                            </div>\r\n                            \r\n                            <input type=\"password\" name=\"password\" value={password} onChange={(e)=> {setPassword(e.target.value)}} placeholder=\"Password\"/>\r\n                        </div>\r\n                       \r\n\r\n                        <input type=\"submit\" value=\"LOGIN\" className=\"identity_button\"/>\r\n                        <Link to=\"/register\" style={{ textDecoration: 'none',color: \"#375174\", fontWeight:\"bold\"}}>Don't have an account? Register here.</Link>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loginpage\r\n\r\n","import React, {useContext} from 'react'\r\nimport { useState, useEffect } from \"react\"\r\nimport { Link } from 'react-router-dom'\r\nimport AuthContext from '../context/AuthContext'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUser, faLock, faEnvelope } from '@fortawesome/free-solid-svg-icons'\r\nimport { faUser as faUserRegular} from '@fortawesome/free-regular-svg-icons'\r\n\r\n\r\n\r\nconst Registerpage = () => {\r\n    const [username, setUsername] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n\r\n    const {user} = useContext(AuthContext)\r\n\r\n    const registerUser = async(e) => {\r\n        e.preventDefault()\r\n        const response = await fetch('/backend/register/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type':'application/json',\r\n            },\r\n            body:JSON.stringify({'username':e.target.username.value, 'email':e.target.email.value, 'password':e.target.password.value})\r\n        })\r\n        const data = await response.json()\r\n        \r\n        if (response.status === 201) {\r\n            alert(\"Your user registration was successful. Please to \" +data.email+\" and verify your email.\")\r\n        } else {\r\n            \r\n            if (data.username === undefined) {\r\n                alert(\"Email:\"+data.email)\r\n            } else {\r\n                alert(\"Email:\"+data.email)\r\n                alert(\"Username:\"+data.username)\r\n            }\r\n        }\r\n        console.log(\"data:\",data, response.status)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"identity_page register_page\">\r\n            <div className=\"identity_image\"></div>\r\n            <div className=\"identity_content\">\r\n                <div className=\"identity_content_container\">\r\n                    <div className=\"identity_content_bg\"></div>\r\n                    <form className=\"identity_form\" onSubmit={registerUser}>\r\n                        <div className=\"profile\">\r\n                            <FontAwesomeIcon icon={[\"far\",\"user\"]} />\r\n                        </div>\r\n                        <div className=\"form_control identity first\">\r\n                            <div className=\"identity_icon\">\r\n                                <FontAwesomeIcon icon=\"user\" />\r\n                            </div>\r\n                            <input type=\"text\" name=\"username\" value={username} onChange={(e)=> {setUsername(e.target.value)}} placeholder=\"Username\"/>\r\n                        </div>\r\n                        <div className=\"form_control identity\">\r\n                            <div className=\"identity_icon\">\r\n                                <FontAwesomeIcon icon=\"envelope\" />\r\n                            </div>\r\n                            <input type=\"text\" name=\"email\" value={email} onChange={(e)=> {setEmail(e.target.value)}} placeholder=\"Email\"/>\r\n                        </div>\r\n                        <div className=\"form_control identity\">\r\n                            <div className=\"identity_icon\">\r\n                                <FontAwesomeIcon icon=\"lock\" />\r\n                            </div>\r\n                            <input type=\"password\" name=\"password\" value={password} onChange={(e)=> {setPassword(e.target.value)}} placeholder=\"Password\"/>\r\n                        </div>\r\n                        <input type=\"submit\" value=\"REGISTER\" className=\"identity_button\"/>\r\n                        <Link to=\"/login\" style={{ textDecoration: 'none',color: \"#375174\", fontWeight:\"bold\"}}>Already have an account? Login here.</Link>                        \r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Registerpage\r\n","import { useContext } from 'react';\r\nimport {Route, Redirect} from 'react-router-dom'\r\nimport AuthContext from '../context/AuthContext';\r\n\r\n\r\nconst PrivateRoute = ({children, ...rest}) => {\r\n    const {user} = useContext(AuthContext)\r\n    return (\r\n        <Route {...rest}>{!user ? <Redirect to=\"/login\"/> : children}</Route>\r\n    )\r\n}\r\nexport default PrivateRoute;","import { useState, useEffect } from \"react\"\r\nimport { BrowserRouter as Router, Route} from \"react-router-dom\"\r\nimport { AuthProvider } from \"./context/AuthContext\"\r\n\r\nimport Homepage from \"./route/Homepage\"\r\nimport Loginpage from \"./route/Loginpage\"\r\nimport Registerpage from \"./route/Registerpage\"\r\nimport PrivateRoute from \"./utils/PrivateRoute\"\r\n\r\n\r\n\r\nconst App = () => {\r\n\r\n \r\n    return (\r\n      <Router>\r\n        <AuthProvider>\r\n          <PrivateRoute component={Homepage} path=\"/\" exact/>\r\n          <Route component={Loginpage} path=\"/login\" exact/>\r\n          <Route component={Registerpage} path=\"/register\" exact/>\r\n        </AuthProvider>\r\n      </Router>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default App\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}