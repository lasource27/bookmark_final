(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{33:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(25),r=n.n(s),o=(n(33),n(11)),i=n(8),l=n(2),u=n.n(l),d=n(5),j=n(3),b=n(18),f=n(0),m=Object(a.createContext)(),h=m,O=function(e){var t=e.children,n=Object(a.useState)((function(){return localStorage.getItem("authTokens")?JSON.parse(localStorage.getItem("authTokens")):null})),c=Object(j.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)((function(){return localStorage.getItem("authTokens")?Object(b.a)(localStorage.getItem("authTokens")):null})),l=Object(j.a)(o,2),h=l[0],O=l[1],x=Object(a.useState)(!0),p=Object(j.a)(x,2),v=p[0],k=p[1],g=Object(i.f)(),_=Object(i.g)(),N=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/backend/token/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.target.email.value,password:t.target.password.value})});case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,console.log("data:",a),console.log("response:",n),200===n.status?(r(a),O(Object(b.a)(a.access)),localStorage.setItem("authTokens",JSON.stringify(a)),g.push("/")):alert("Incorrect username or password!");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){r(null),O(null),localStorage.removeItem("authTokens"),g.push("/login")},y=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({refresh:null===s||void 0===s?void 0:s.refresh}),e.next=3,fetch("/backend/token/refresh/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:null===s||void 0===s?void 0:s.refresh})});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,200===t.status?(r(n),O(Object(b.a)(n.access)),localStorage.setItem("authTokens",JSON.stringify(n))):"/"===_.pathname&&w(),v&&k(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S={loginUser:N,logoutUser:w,user:h,authTokens:s};return Object(a.useEffect)((function(){v&&y();var e=setInterval((function(){s&&y()}),24e4);return function(){clearInterval(e)}}),[s,v]),Object(f.jsx)(m.Provider,{value:S,children:v?null:t})},x=n(4),p=function(e){var t=e.folder,n=e.folder_bookmark,c=e.update_folder,s=e.onDeletefolder,r=Object(a.useState)(!1),o=Object(j.a)(r,2),i=o[0],l=o[1],b=Object(a.useState)(!1),m=Object(j.a)(b,2),h=m[0],O=m[1],p=Object(a.useState)(""),v=Object(j.a)(p,2),k=v[0],g=v[1],_=Object(a.useRef)(),N=function(e){_.current.contains(e.target)||O(!1)};Object(a.useEffect)((function(){return document.addEventListener("mousedown",N),function(){document.removeEventListener("mousedown",N)}}),[h]);var w=function(){var e=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,c(t.id,k);case 3:O(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"row_wrap",ref:_,children:Object(f.jsxs)("div",{className:"row_control",children:[h?Object(f.jsx)("form",{className:"row_name_sub",onSubmit:w,children:Object(f.jsx)("input",{type:"text",defaultValue:t.name,onChange:function(e){g(e.target.value)},className:"new_input"})}):Object(f.jsxs)("div",{className:"row_name_sub",onClick:function(){return n(t.id)},children:[Object(f.jsx)(x.a,{icon:["far","folder"],className:"decor_icons"}),Object(f.jsx)("div",{className:"folder_name",children:t.name})]}),Object(f.jsx)("div",{className:"icon_right",onClick:function(){l(!i),console.log(i)},children:Object(f.jsx)("div",{className:"link_control_sub",children:Object(f.jsx)(x.a,{icon:["fas","ellipsis-h"],className:"link_icons"})})}),i?Object(f.jsx)("div",{className:"folderDropdown",children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{onClick:function(){l(!1),O(!0),console.log("123")},children:"Edit"}),Object(f.jsx)("li",{onClick:function(){s(t.id)},children:"Delete"})]})}):""]})})},v=function(e){var t=e.folders,n=e.folder_bookmark,c=e.create_folder,s=e.show_new_folder,r=e.update_folder,o=e.onDeletefolder,i=Object(a.useState)(""),l=Object(j.a)(i,2),u=l[0],d=l[1];return Object(f.jsx)("div",{className:"folders",children:Object(f.jsxs)("ul",{children:[t.map((function(e){return Object(f.jsx)(p,{folder:e,folder_bookmark:n,update_folder:r,onDeletefolder:o},e.id)})),s?Object(f.jsx)("form",{onSubmit:function(e){e.preventDefault(),c(u),d("")},children:Object(f.jsx)("input",{type:"text",value:u,onChange:function(e){d(e.target.value)},placeholder:"enter folder name",className:"new_input"})}):""]})})},k=function(e){var t=e.tag,n=e.tag_bookmark,c=e.update_tag,s=e.onDeletetag,r=Object(a.useState)(!1),o=Object(j.a)(r,2),i=o[0],l=o[1],b=Object(a.useState)(!1),m=Object(j.a)(b,2),h=m[0],O=m[1],p=Object(a.useState)(""),v=Object(j.a)(p,2),k=v[0],g=v[1],_=Object(a.useRef)(),N=function(e){_.current.contains(e.target)||O(!1)};Object(a.useEffect)((function(){return document.addEventListener("mousedown",N),function(){document.removeEventListener("mousedown",N)}}),[h]);var w=function(){var e=Object(d.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,c(t.id,k);case 3:O(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"row-wrap",ref:_,children:Object(f.jsxs)("div",{className:"row_control",children:[h?Object(f.jsx)("form",{className:"row_name_sub",onSubmit:w,children:Object(f.jsx)("input",{type:"text",defaultValue:t.name,onChange:function(e){g(e.target.value)},className:"new_input"})}):Object(f.jsxs)("div",{className:"row_name_sub",onClick:function(){return n(t.id)},children:[Object(f.jsx)(x.a,{icon:["fas","hashtag"],className:"decor_icons"}),Object(f.jsx)("div",{className:"tag_name",children:t.name})]}),Object(f.jsx)("div",{className:"icon_right",onClick:function(){l(!i),console.log(i)},children:Object(f.jsx)("div",{className:"link_control_sub",children:Object(f.jsx)(x.a,{icon:["fas","ellipsis-h"],className:"link_icons"})})}),i?Object(f.jsx)("div",{className:"tagDropdown",children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{onClick:function(){l(!1),O(!0)},children:"Edit"}),Object(f.jsx)("li",{onClick:function(){s(t.id)},children:"Delete"})]})}):""]})})},g=function(e){var t=e.tags,n=e.tag_bookmark,c=e.create_tag,s=e.show_new_tag,r=e.update_tag,o=e.onDeletetag,i=Object(a.useState)(""),l=Object(j.a)(i,2),u=l[0],d=l[1];return Object(f.jsx)("div",{className:"tags",children:Object(f.jsxs)("ul",{children:[t.map((function(e){return Object(f.jsx)(k,{tag:e,tag_bookmark:n,update_tag:r,onDeletetag:o},e.id)})),s?Object(f.jsx)("form",{onSubmit:function(e){e.preventDefault(),c(u),d("")},children:Object(f.jsx)("input",{type:"text",value:u,onChange:function(e){d(e.target.value)},placeholder:"enter tag name",className:"new_input"})}):""]})})},_=n(17),N=n(24),w=function(e){var t=e.bookmark,n=e.tag_filter,c=e.rTags,s=e.onDeletebookmark,r=e.edit_bookmark,o=Object(a.useState)(!1),i=Object(j.a)(o,2);i[0],i[1];return Object(f.jsx)("div",{className:"card",children:Object(f.jsxs)("div",{className:"normal_card",children:[Object(f.jsx)("div",{className:"preview_image",children:Object(f.jsx)("img",{src:t.preview_image,alt:""})}),Object(f.jsxs)("div",{className:"preview_text",children:[Object(f.jsx)("div",{className:"bookmark_title",children:Object(f.jsx)("h5",{children:t.title})}),Object(f.jsx)("div",{className:"preview_description_wrap",children:Object(f.jsx)("div",{className:"preview_description",children:Object(f.jsx)("p",{children:t.description})})}),Object(f.jsxs)("div",{className:"text_footnote",children:[Object(f.jsxs)("div",{className:"bookmark_domain",children:[Object(f.jsx)(x.a,{icon:"thumbtack",className:"icon_footnote"}),Object(f.jsx)("p",{children:t.domain})]}),Object(f.jsxs)("div",{className:"date_created",children:[Object(f.jsx)(x.a,{icon:"calendar-day",className:"icon_footnote"}),Object(f.jsx)("p",{children:t.date_created})]})]}),Object(f.jsx)("div",{className:"tag_name",children:t.tag.map((function(e){return Object(f.jsxs)("a",{className:"tag_name_element",onClick:function(){return n(e)},children:["#",c[e]]})}))})]}),Object(f.jsx)("a",{className:"hover_icons left",href:t.page_url,target:"_blank",rel:"noreferrer",children:Object(f.jsx)(x.a,{icon:"book-reader"})}),Object(f.jsx)("div",{className:"hover_icons middle",onClick:function(){r(t.id,t)},children:Object(f.jsx)(x.a,{icon:"pencil-alt"})}),Object(f.jsx)("div",{className:"hover_icons right",onClick:function(){return s(t.id)},children:Object(f.jsx)(x.a,{icon:"trash-alt"})})]})})},y=function(e){var t=e.bookmarks,n=e.loader,c=e.onDeletebookmark,s=e.tags,r=e.tag_filter,o=e.edit_bookmark,i=Object(N.a)(t).reverse(),l=Object.assign.apply(Object,[{}].concat(Object(N.a)(s.map((function(e){return Object(_.a)({},e.id,e.name)}))))),u=Object(a.useState)(s),d=Object(j.a)(u,2);d[0],d[1];return Object(f.jsxs)(f.Fragment,{children:[n?Object(f.jsx)("div",{className:"card",children:Object(f.jsxs)("div",{className:"normal_card",children:[Object(f.jsx)("div",{className:"preview_image skeleton"}),Object(f.jsxs)("div",{className:"preview_text",children:[Object(f.jsxs)("div",{className:"bookmark_title",children:[Object(f.jsx)("div",{className:"skeleton skeleton_text"}),Object(f.jsx)("div",{className:"skeleton skeleton_text"})]}),Object(f.jsx)("div",{className:"preview_description_wrap",children:Object(f.jsxs)("div",{className:"preview_description",children:[Object(f.jsx)("div",{className:"skeleton skeleton_text"}),Object(f.jsx)("div",{className:"skeleton skeleton_text"}),Object(f.jsx)("div",{className:"skeleton skeleton_text"})]})}),Object(f.jsxs)("div",{className:"text_footnote",children:[Object(f.jsx)("div",{className:"skeleton skeleton_footnote"}),Object(f.jsx)("div",{className:"skeleton skeleton_footnote"})]})]})]})}):"",i.map((function(e){return Object(f.jsx)(w,{bookmark:e,tag_filter:r,rTags:l,onDeletebookmark:c,edit_bookmark:o},e.id)}))]})},S=function(e){var t=e.edit_id,n=e.bookmark_concerned,c=e.update_bookmark,s=e.tags,r=e.folders,o=e.close_edit;Object(a.useEffect)((function(){d(n.title),O(n.description),k(n.folder),w(n.tag)}),[t]);var i=Object(a.useState)(n.title),l=Object(j.a)(i,2),u=l[0],d=l[1],b=Object(a.useState)(n.description),m=Object(j.a)(b,2),h=m[0],O=m[1],x=Object(a.useState)(n.folder),p=Object(j.a)(x,2),v=p[0],k=p[1],g=Object(a.useState)(n.tag),_=Object(j.a)(g,2),N=_[0],w=_[1];return Object(f.jsxs)("div",{className:"edit_form",children:[Object(f.jsx)("div",{className:"xmark",onClick:o,children:"\u2715"}),Object(f.jsx)("p",{children:"- Edit Bookmark -"}),Object(f.jsxs)("form",{className:"row_name_sub",onSubmit:function(e){e.preventDefault(),c(u,h,v,N),console.log(n.tag),console.log(n.folder),console.log(v)},children:[Object(f.jsxs)("div",{className:"form_control",children:[Object(f.jsx)("label",{children:"Folder"}),Object(f.jsxs)("select",{value:v,onChange:function(e){k(e.target.value)},children:[Object(f.jsx)("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:"Please select folder"}),r.map((function(e){return Object(f.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(f.jsxs)("div",{className:"form_control",children:[Object(f.jsx)("label",{children:"Tag"}),Object(f.jsx)("select",{value:N,onChange:function(e){w(Array.from(e.target.selectedOptions,(function(e){return e.value})))},multiple:!0,children:s.map((function(e){return Object(f.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(f.jsxs)("div",{className:"form_control",children:[Object(f.jsx)("label",{children:"Bookmark Title"}),Object(f.jsx)("input",{type:"text",value:u,onChange:function(e){d(e.target.value)},className:"new_input"})]}),Object(f.jsxs)("div",{className:"form_control",children:[Object(f.jsx)("label",{children:"Bookmark Description"}),Object(f.jsx)("input",{type:"text",value:h,onChange:function(e){O(e.target.value)},className:"new_input"})]}),Object(f.jsx)("input",{type:"submit",value:"Update Bookmark",className:"button_control"})]})]})},C=function(e){var t=e.search_bookmark,n=Object(a.useState)(""),c=Object(j.a)(n,2),s=c[0],r=c[1];return Object(f.jsxs)("div",{className:"searchbar",children:[Object(f.jsx)("div",{className:"dropdown",children:Object(f.jsx)("input",{type:"text",className:"searchbar_input",value:s,onChange:function(e){return r(e.target.value)},placeholder:"enter your search"})}),Object(f.jsx)("button",{className:"searchbar_submit",onClick:function(){return t(s)},children:Object(f.jsx)(x.a,{icon:"search"})})]})},T=function(e){var t=e.folders,n=e.tags,c=(e.dropdown_list,e.add_task),s=e.addbutton_submit,r=e.showDropdown,o=e.handle_hidedropdown,i=e.toggle_showdropdown,l=Object(a.useState)(""),b=Object(j.a)(l,2),m=b[0],h=b[1],O=Object(a.useState)(""),p=Object(j.a)(O,2),v=p[0],k=p[1],g=Object(a.useState)([]),_=Object(j.a)(g,2),N=_[0],w=_[1],y=Object(a.useRef)(),S=function(e){y.current.contains(e.target)||o()};Object(a.useEffect)((function(){return document.addEventListener("mousedown",S),function(){document.removeEventListener("mousedown",S)}}),[r]);var C=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c(m,v,N);case 3:console.log("folder:",v,"tag:",N),h(""),k(""),w([]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{ref:y,className:"addbutton",children:[Object(f.jsx)("div",{className:"star_button",onClick:function(){return i()},children:Object(f.jsx)(x.a,{icon:"star",className:"link_icons"})}),r&&Object(f.jsxs)("form",{className:"dropdown_menu",onSubmit:C,children:[Object(f.jsxs)("div",{className:"form_control",children:[Object(f.jsx)("label",{children:"URL"}),Object(f.jsx)("input",{type:"text",value:m,onChange:function(e){h(e.target.value)},placeholder:"enter page url",className:s?"inactive_input":""})]}),Object(f.jsxs)("div",{className:"form_control",children:[Object(f.jsx)("label",{children:"Folder"}),Object(f.jsxs)("select",{onChange:function(e){k(e.target.value)},children:[Object(f.jsx)("option",{value:"0",disabled:!0,selected:!0,hidden:!0,children:"Please select folder"}),t.map((function(e){return Object(f.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(f.jsxs)("div",{className:"form_control",children:[Object(f.jsx)("label",{children:"Tag"}),Object(f.jsx)("select",{onChange:function(e){w(Array.from(e.target.selectedOptions,(function(e){return e.value})))},multiple:!0,children:n.map((function(e){return Object(f.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(f.jsx)("input",{type:"submit",value:"Save Bookmark",className:"button_control ".concat(s&&"inactive_button")})]})]})},E=function(){return Object(f.jsx)("div",{className:"sortbutton"})},D=n(12),z=n(7),B=n(13);D.b.add(z.f,z.d,z.h,z.p,z.t,z.i,z.a,z.b,B.a,z.j,z.u,z.q,z.e,z.l,z.c,z.s,z.n,z.o,z.m,z.r,z.k,z.g,B.b);var U=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),r=Object(j.a)(s,2),o=r[0],i=r[1],l=Object(a.useState)([]),b=Object(j.a)(l,2),m=b[0],O=b[1],p=Object(a.useState)(!1),k=Object(j.a)(p,2),_=k[0],N=k[1],w=Object(a.useState)(!1),D=Object(j.a)(w,2),z=D[0],B=D[1],U=Object(a.useState)("All Bookmarks"),A=Object(j.a)(U,2),L=A[0],P=A[1],I=Object(a.useState)(!1),J=Object(j.a)(I,2),F=J[0],G=J[1],R=Object(a.useState)(!1),H=Object(j.a)(R,2),V=(H[0],H[1]),W=Object(a.useState)(!0),Y=Object(j.a)(W,2),q=Y[0],M=Y[1],K=Object(a.useState)(!1),Q=Object(j.a)(K,2),X=Q[0],Z=Q[1],$=Object(a.useState)(!1),ee=Object(j.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),ce=Object(j.a)(ae,2),se=ce[0],re=ce[1],oe=Object(a.useState)(!1),ie=Object(j.a)(oe,2),le=ie[0],ue=ie[1],de=Object(a.useState)(!1),je=Object(j.a)(de,2),be=je[0],fe=je[1],me=Object(a.useState)(!1),he=Object(j.a)(me,2),Oe=he[0],xe=he[1],pe=Object(a.useState)(""),ve=Object(j.a)(pe,2),ke=ve[0],ge=ve[1],_e=Object(a.useState)(""),Ne=Object(j.a)(_e,2),we=Ne[0],ye=Ne[1],Se=Object(a.useState)(!1),Ce=Object(j.a)(Se,2),Te=Ce[0],Ee=Ce[1],De=Object(a.useContext)(h).user,ze=Object(a.useContext)(h),Be=ze.authTokens,Ue=ze.logoutUser;Object(a.useEffect)((function(){var e=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var t=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t();var n=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:t=e.sent,O(t),re(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}),[]);var Ae=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/backend/folder-list",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+String(Be.access)}});case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,200!==t.status){e.next=10;break}return e.abrupt("return",n);case 10:"Unauthorized"===t.statusText&&Ue();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/backend/tag-list",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+String(Be.access)}});case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,200!==t.status){e.next=10;break}return e.abrupt("return",n);case 10:"Unauthorized"===t.statusText&&Ue();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/backend/bookmark-list",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+String(Be.access)}});case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,200!==t.status){e.next=10;break}return e.abrupt("return",n);case 10:"Unauthorized"===t.statusText&&Ue();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/backend/folder-detail/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+String(Be.access)}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,200!==n.status){e.next=18;break}return e.next=9,Pe();case 9:c=e.sent,console.log("all_bookmarks:",c,"data:",a.bookmarks),O(c.filter((function(e){return a.bookmarks.includes(e.id)}))),P(a.folder_name),G(!0),V(!1),M(!1),e.next=19;break;case 18:"Unauthorized"===n.statusText&&Ue();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/backend/tag-detail/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+String(Be.access)}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,200!==n.status){e.next=17;break}return e.next=9,Pe();case 9:c=e.sent,O(c.filter((function(e){return a.bookmarks.includes(e.id)}))),P(a.tag_name),G(!1),V(!0),M(!1),e.next=18;break;case 17:"Unauthorized"===n.statusText&&Ue();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:t=e.sent,O(t),re(t),P("All Bookmarks"),G(!1),V(!1),M(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/backend/bookmark-delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+String(Be.access)}});case 2:200===(n=e.sent).status?(a=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:t=e.sent,O(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a()):"Unauthorized"===n.statusText&&Ue();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe();case 2:n=e.sent,O(n.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/backend/tag-detail/".concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+String(Be.access)}});case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,200===n.status?(O(se.filter((function(e){return a.bookmarks.includes(e.id)}))),re(se.filter((function(e){return a.bookmarks.includes(e.id)})))):"Unauthorized"===n.statusText&&Ue();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){var c,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(!0),Z(!0),e.next=4,fetch("/backend/bookmark-create/",{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+String(Be.access)},body:JSON.stringify({page_url:t,folder:n,tag:a})});case 4:return c=e.sent,e.next=7,c.json();case 7:if(s=e.sent,console.log(s,c.status),"error"!==s.error){e.next=17;break}O(m),ne(!1),Z(!1),Ee(!1),alert("Error when loading the bookmark, please try another one"),e.next=28;break;case 17:if("Unauthorized"!==c.statusText){e.next=21;break}Ue(),e.next=28;break;case 21:return e.next=23,Pe();case 23:r=e.sent,O(r),ne(!1),Z(!1),Ee(!1);case 28:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),We=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a,c){var s,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/backend/bookmark-update/".concat(ke),{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+String(Be.access)},body:JSON.stringify({title:t,description:n,folder:a,tag:c})});case 2:return s=e.sent,e.next=5,s.json();case 5:if(r=e.sent,console.log(r),"error"!==r.error){e.next=11;break}alert("Bookmark update failed, please try again"),e.next=23;break;case 11:if("Unauthorized"!==s.statusText){e.next=15;break}Ue(),e.next=23;break;case 15:return e.next=17,Pe();case 17:o=e.sent,O(o),M(!0),P("All Bookmarks"),alert("Bookmark updated"),xe(!1);case 23:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("create tag"),ue(!1),e.next=4,fetch("/backend/tag-create/",{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+String(Be.access)},body:JSON.stringify({name:t})});case 4:return n=e.sent,e.next=7,n.json();case 7:if(e.sent,200!==n.status){e.next=15;break}return e.next=11,Le();case 11:a=e.sent,i(a),e.next=16;break;case 15:"Unauthorized"===n.statusText&&Ue();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(!1),e.next=3,fetch("/backend/folder-create/",{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+String(Be.access)},body:JSON.stringify({name:t})});case 3:return n=e.sent,e.next=6,n.json();case 6:if(e.sent,200!==n.status){e.next=14;break}return e.next=10,Ae();case 10:a=e.sent,c(a),e.next=15;break;case 14:"Unauthorized"===n.statusText&&Ue();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("update tag"),ue(!1),e.next=4,fetch("/backend/tag-update/".concat(t),{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+String(Be.access)},body:JSON.stringify({name:n})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(c=e.sent,console.log(c),200!==a.status){e.next=16;break}return e.next=12,Le();case 12:s=e.sent,i(s),e.next=17;break;case 16:"Unauthorized"===a.statusText&&Ue();case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("update folder"),fe(!1),e.next=4,fetch("/backend/folder-update/".concat(t),{method:"POST",headers:{"Content-type":"application/json",Authorization:"Bearer "+String(Be.access)},body:JSON.stringify({name:n})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(s=e.sent,console.log(s),200!==a.status){e.next=16;break}return e.next=12,Ae();case 12:r=e.sent,c(r),e.next=17;break;case 16:"Unauthorized"===a.statusText&&Ue();case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/backend/tag-delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+String(Be.access)}});case 2:if(200!==(n=e.sent).status){e.next=10;break}return e.next=6,Le();case 6:a=e.sent,i(a),e.next=11;break;case 10:"Unauthorized"===n.statusText&&Ue();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/backend/folder-delete/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+String(Be.access)}});case 2:if(200!==(n=e.sent).status){e.next=10;break}return e.next=6,Ae();case 6:a=e.sent,c(a),e.next=11;break;case 10:"Unauthorized"===n.statusText&&Ue();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsxs)("section",{className:"navigation",children:[Object(f.jsxs)("div",{className:"userHeader",children:[Object(f.jsx)("div",{className:"userName",children:Object(f.jsxs)("div",{className:"link_control header_font_size",children:[Object(f.jsx)(x.a,{icon:["fas","user"],className:"decor_icons"}),Object(f.jsxs)("div",{style:{textDecoration:"none",color:"rgb(54, 53, 53)"},children:["Hi, ",De.username]})]})}),Object(f.jsx)("div",{className:"headerEllipsis",children:Object(f.jsx)("div",{className:"row_name header_font_size",onClick:Ue,children:Object(f.jsx)("p",{children:"Log Out"})})})]}),Object(f.jsx)("div",{className:"all_bookmarks",children:Object(f.jsx)("div",{className:"row_control",onClick:Fe,children:Object(f.jsxs)("div",{className:"row_name",children:[Object(f.jsx)(x.a,{icon:"bookmark",className:"decor_icons"}),Object(f.jsx)("h5",{children:"All bookmarks"})]})})}),Object(f.jsxs)("div",{className:"folders",children:[Object(f.jsx)("div",{className:"row_wrap",children:Object(f.jsxs)("div",{className:"row_control",children:[Object(f.jsxs)("div",{className:"row_name",onClick:function(){N(!_)},children:[_?Object(f.jsx)(x.a,{icon:["fas","folder-open"],className:"decor_icons"}):Object(f.jsx)(x.a,{icon:["fas","folder"],className:"decor_icons"}),Object(f.jsx)("h5",{children:"Folders"})]}),Object(f.jsx)("div",{className:"icon_right",onClick:function(){fe(!be)},children:Object(f.jsx)("div",{className:"link_control",children:_?Object(f.jsx)(x.a,{icon:["fas","plus"],className:"link_icons"}):Object(f.jsx)(x.a,{icon:["fas","angle-double-down"],className:"link_icons"})})})]})}),_?Object(f.jsx)(v,{folders:n,folder_bookmark:Ie,create_folder:qe,show_new_folder:be,update_folder:Ke,onDeletefolder:Xe}):""]}),Object(f.jsxs)("div",{className:"tags",children:[Object(f.jsx)("div",{className:"row_wrap",children:Object(f.jsxs)("div",{className:"row_control",children:[Object(f.jsxs)("div",{className:"row_name",onClick:function(){B(!z)},children:[z?Object(f.jsx)(x.a,{icon:["fas","user-tag"],className:"decor_icons"}):Object(f.jsx)(x.a,{icon:["fas","tags"],className:"decor_icons"}),Object(f.jsx)("h5",{children:"Tags"})]}),Object(f.jsx)("div",{className:"icon_right",onClick:function(){ue(!le)},children:Object(f.jsx)("div",{className:"link_control",children:z?Object(f.jsx)(x.a,{icon:["fas","plus"],className:"link_icons"}):Object(f.jsx)(x.a,{icon:["fas","angle-double-down"],className:"link_icons"})})})]})}),z?Object(f.jsx)(g,{tags:o,tag_bookmark:Je,create_tag:Ye,show_new_tag:le,update_tag:Me,onDeletetag:Qe}):""]})]}),Object(f.jsxs)("div",{className:"main_part",children:[Object(f.jsxs)("section",{className:"showcase",children:[Object(f.jsxs)("div",{className:"function_bar",children:[Object(f.jsx)(C,{search_bookmark:Re}),Object(f.jsxs)("div",{className:"function_button",children:[Object(f.jsx)(T,{folders:n,tags:o,add_task:Ve,addbutton_submit:te,showDropdown:Te,toggle_showdropdown:function(){Ee(!Te)},handle_hidedropdown:function(){Ee(!1)}}),Object(f.jsx)(E,{})]})]}),Object(f.jsxs)("div",{className:"main",children:[Object(f.jsxs)("div",{className:"title_bar",children:[q?Object(f.jsx)(x.a,{icon:"bookmark",className:"decor_icons"}):F?Object(f.jsx)(x.a,{icon:["far","folder"],className:"decor_icons"}):Object(f.jsx)(x.a,{icon:["fas","hashtag"],className:"decor_icons"}),Object(f.jsx)("h2",{children:L})]}),Object(f.jsx)("div",{className:"bookmark_area",children:Object(f.jsx)(y,{bookmarks:m,loader:X,onDeletebookmark:Ge,tags:o,tag_filter:He,edit_bookmark:function(e,t){(!1===Oe||!0===Oe&&ke===e)&&xe(!Oe),ge(e),ye(t),console.log(e,we)}})})]})]}),Oe?Object(f.jsx)("section",{className:"edit_showcase",children:Object(f.jsx)(S,{edit_id:ke,bookmark_concerned:we,update_bookmark:We,tags:o,folders:n,close_edit:function(){xe(!1)}})}):""]})]})},A=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(j.a)(s,2),i=r[0],l=r[1],u=(Object(a.useContext)(h).user,Object(a.useContext)(h).loginUser);return Object(f.jsxs)("div",{className:"identity_page login_page",children:[Object(f.jsx)("div",{className:"identity_image"}),Object(f.jsx)("div",{className:"identity_content",children:Object(f.jsxs)("div",{className:"identity_content_container",children:[Object(f.jsx)("div",{className:"identity_content_bg"}),Object(f.jsxs)("form",{className:"identity_form",onSubmit:u,children:[Object(f.jsx)("div",{className:"profile",children:Object(f.jsx)(x.a,{icon:["far","user"]})}),Object(f.jsxs)("div",{className:"form_control identity first",children:[Object(f.jsx)("div",{className:"identity_icon",children:Object(f.jsx)(x.a,{icon:"envelope"})}),Object(f.jsx)("input",{type:"text",name:"email",value:n,onChange:function(e){c(e.target.value)},placeholder:"Email ID"})]}),Object(f.jsxs)("div",{className:"form_control identity",children:[Object(f.jsx)("div",{className:"identity_icon",children:Object(f.jsx)(x.a,{icon:"lock"})}),Object(f.jsx)("input",{type:"password",name:"password",value:i,onChange:function(e){l(e.target.value)},placeholder:"Password"})]}),Object(f.jsx)("input",{type:"submit",value:"LOGIN",className:"identity_button"}),Object(f.jsx)(o.b,{to:"/register",style:{textDecoration:"none",color:"#375174",fontWeight:"bold"},children:"Don't have an account? Register here."})]})]})})]})},L=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),r=Object(j.a)(s,2),i=r[0],l=r[1],b=Object(a.useState)(""),m=Object(j.a)(b,2),O=m[0],p=m[1],v=(Object(a.useContext)(h).user,function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/backend/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.target.username.value,email:t.target.email.value,password:t.target.password.value})});case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,console.log(a),201===n.status?alert("Your user registration was successful. You can now log into your account."):void 0===a.username?alert("Email:"+a.email):(void 0===a.email||alert("Email:"+a.email),alert("Username:"+a.username)),console.log("data:",a,n.status);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(f.jsxs)("div",{className:"identity_page register_page",children:[Object(f.jsx)("div",{className:"identity_image"}),Object(f.jsx)("div",{className:"identity_content",children:Object(f.jsxs)("div",{className:"identity_content_container",children:[Object(f.jsx)("div",{className:"identity_content_bg"}),Object(f.jsxs)("form",{className:"identity_form",onSubmit:v,children:[Object(f.jsx)("div",{className:"profile",children:Object(f.jsx)(x.a,{icon:["far","user"]})}),Object(f.jsxs)("div",{className:"form_control identity first",children:[Object(f.jsx)("div",{className:"identity_icon",children:Object(f.jsx)(x.a,{icon:"user"})}),Object(f.jsx)("input",{type:"text",name:"username",value:n,onChange:function(e){c(e.target.value)},placeholder:"Username"})]}),Object(f.jsxs)("div",{className:"form_control identity",children:[Object(f.jsx)("div",{className:"identity_icon",children:Object(f.jsx)(x.a,{icon:"envelope"})}),Object(f.jsx)("input",{type:"text",name:"email",value:i,onChange:function(e){l(e.target.value)},placeholder:"Email"})]}),Object(f.jsxs)("div",{className:"form_control identity",children:[Object(f.jsx)("div",{className:"identity_icon",children:Object(f.jsx)(x.a,{icon:"lock"})}),Object(f.jsx)("input",{type:"password",name:"password",value:O,onChange:function(e){p(e.target.value)},placeholder:"Password"})]}),Object(f.jsx)("input",{type:"submit",value:"REGISTER",className:"identity_button"}),Object(f.jsx)(o.b,{to:"/login",style:{textDecoration:"none",color:"#375174",fontWeight:"bold"},children:"Already have an account? Login here."})]})]})})]})},P=n(23),I=n(28),J=["children"],F=function(e){var t=e.children,n=Object(I.a)(e,J),c=Object(a.useContext)(h).user;return Object(f.jsx)(i.b,Object(P.a)(Object(P.a)({},n),{},{children:c?t:Object(f.jsx)(i.a,{to:"/login"})}))},G=function(){return Object(f.jsx)(o.a,{children:Object(f.jsxs)(O,{children:[Object(f.jsx)(F,{component:U,path:"/",exact:!0}),Object(f.jsx)(i.b,{component:A,path:"/login",exact:!0}),Object(f.jsx)(i.b,{component:L,path:"/register",exact:!0})]})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(G,{})}),document.getElementById("root")),R()}},[[46,1,2]]]);
//# sourceMappingURL=main.fca319d7.chunk.js.map